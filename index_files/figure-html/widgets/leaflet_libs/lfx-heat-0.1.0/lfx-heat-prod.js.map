{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./inst/htmlwidgets/src/heat/leaflet-heat.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","t","this","_canvas","document","getElementById","_ctx","getContext","_width","width","_height","height","_max","clear","defaultRadius","defaultGradient","0.4","0.6","0.7","0.8","1","data","_data","max","add","push","radius","a","_circle","createElement","e","_r","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","Math","PI","closePath","fill","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","_grad","getImageData","draw","clearRect","length","globalAlpha","drawImage","_colorize","putImageData","window","simpleheat","L","HeatLayer","Layer","Class","extend","initialize","_latlngs","setOptions","setLatLngs","redraw","addLatLng","_heat","_updateOptions","_frame","_map","_animating","Util","requestAnimFrame","_redraw","onAdd","_initCanvas","options","pane","getPane","appendChild","_panes","overlayPane","on","_reset","zoomAnimation","Browser","any3d","_animateZoom","onRemove","removeChild","getPanes","off","addTo","addLayer","DomUtil","create","testProp","style","getSize","x","y","addClass","blur","containerPointToLayerPoint","setPosition","h","_","Bounds","point","f","cellSize","g","_getMapPanePos","v","w","latLngToContainerPoint","contains","floor","alt","round","min","minOpacity","getZoomScale","zoom","_getCenterOffset","center","_multiplyBy","subtract","setTransform","TRANSFORM","getTranslateString","heatLayer"],"mappings":"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","file":"lfx-heat-prod.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";!function(){function t(i){return this instanceof t?(this._canvas=i=\"string\"==typeof i?document.getElementById(i):i,this._ctx=i.getContext(\"2d\"),this._width=i.width,this._height=i.height,this._max=1,void this.clear()):new t(i)}t.prototype={defaultRadius:25,defaultGradient:{.4:\"blue\",.6:\"cyan\",.7:\"lime\",.8:\"yellow\",1:\"red\"},data:function(t,i){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,i){i=i||15;var a=this._circle=document.createElement(\"canvas\"),s=a.getContext(\"2d\"),e=this._r=t+i;return a.width=a.height=2*e,s.shadowOffsetX=s.shadowOffsetY=200,s.shadowBlur=i,s.shadowColor=\"black\",s.beginPath(),s.arc(e-200,e-200,t,0,2*Math.PI,!0),s.closePath(),s.fill(),this},gradient:function(t){var i=document.createElement(\"canvas\"),a=i.getContext(\"2d\"),s=a.createLinearGradient(0,0,0,256);i.width=1,i.height=256;for(var e in t)s.addColorStop(e,t[e]);return a.fillStyle=s,a.fillRect(0,0,1,256),this._grad=a.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var i=this._ctx;i.clearRect(0,0,this._width,this._height);for(var a,s=0,e=this._data.length;s<e;s++)a=this._data[s],i.globalAlpha=Math.max(a[2]/this._max,t||.05),i.drawImage(this._circle,a[0]-this._r,a[1]-this._r);var n=i.getImageData(0,0,this._width,this._height);return this._colorize(n.data,this._grad),i.putImageData(n,0,0),this},_colorize:function(t,i){for(var a,s=3,e=t.length;s<e;s+=4)a=4*t[s],a&&(t[s-3]=i[a],t[s-2]=i[a+1],t[s-1]=i[a+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,i){this._latlngs=t,L.setOptions(this,i)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return this._heat&&!this._frame&&this._map&&!this._map._animating&&(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),this.options.pane?this.getPane().appendChild(this._canvas):t._panes.overlayPane.appendChild(this._canvas),t.on(\"moveend\",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on(\"zoomanim\",this._animateZoom,this),this._reset()},onRemove:function(t){this.options.pane?this.getPane().removeChild(this._canvas):t.getPanes().overlayPane.removeChild(this._canvas),t.off(\"moveend\",this._reset,this),t.options.zoomAnimation&&t.off(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create(\"canvas\",\"leaflet-heatmap-layer leaflet-layer\"),i=L.DomUtil.testProp([\"transformOrigin\",\"WebkitTransformOrigin\",\"msTransformOrigin\"]);t.style[i]=\"50% 50%\";var a=this._map.getSize();t.width=a.x,t.height=a.y;var s=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,\"leaflet-zoom-\"+(s?\"animated\":\"hide\")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var i=this._map.getSize();this._heat._width!==i.x&&(this._canvas.width=this._heat._width=i.x),this._heat._height!==i.y&&(this._canvas.height=this._heat._height=i.y),this._redraw()},_redraw:function(){if(this._map){var t,i,a,s,e,n,h,o,r,d=[],l=this._heat._r,_=this._map.getSize(),m=new L.Bounds(L.point([-l,-l]),_.add([l,l])),c=void 0===this.options.max?1:this.options.max,u=1,f=void 0===this.options.cellSize?l/2:this.options.cellSize,g=[],p=this._map._getMapPanePos(),v=p.x%f,w=p.y%f;for(t=0,i=this._latlngs.length;t<i;t++)if(a=this._map.latLngToContainerPoint(this._latlngs[t]),m.contains(a)){e=Math.floor((a.x-v)/f)+2,n=Math.floor((a.y-w)/f)+2;var y=void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1;r=y*u,g[n]=g[n]||[],s=g[n][e],s?(s[0]=(s[0]*s[2]+a.x*r)/(s[2]+r),s[1]=(s[1]*s[2]+a.y*r)/(s[2]+r),s[2]=s[2]*(1-r/c)+r):g[n][e]=[a.x,a.y,r]}for(t=0,i=g.length;t<i;t++)if(g[t])for(h=0,o=g[t].length;h<o;h++)s=g[t][h],s&&d.push([Math.round(s[0]),Math.round(s[1]),Math.min(s[2],c)]);this._heat.data(d).draw(this.options.minOpacity),this._frame=null}},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._getCenterOffset(t.center)._multiplyBy(-i).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,a,i):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(a)+\" scale(\"+i+\")\"}}),L.heatLayer=function(t,i){return new L.HeatLayer(t,i)};"],"sourceRoot":""}